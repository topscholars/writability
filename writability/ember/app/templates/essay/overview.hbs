<div class="details-field">
    <div class="key">Prompt:</div>
    <div class="value app-text">{{essay_prompt}}</div>
</div>
<div class="details-field">
    <div class="key">Audience:</div>
    <div class="value app-text">{{audience}}</div>
</div>
<div class="details-field">
    <div class="key">Context:</div>
    <div class="value app-text">{{context}}</div>
</div>

{{#if is_in_progress}}
    <div class="details-field">
        <div class="key">Topic:</div>
        <div class="value student-text">{{topic}}</div>
    </div>

    {{#if is_completed}}
        <button {{action 'reviewDraft' recentDraft}}>View Final Draft</button>
    {{else}}
        {{#if readyToWriteDraft}}
            <button {{action openDraft}}>Write Draft</button>
        {{/if}}
    {{/if}}
{{else}}
    {{#if is_new_essay}}
        <div class="details-field">
            <div class="key">Topic 1:</div>
            {{textarea class="value student-text" valueBinding="controller.proposed_topic_0"}}
        </div>
        <div class="details-field">
            <div class="key">Topic 2:</div>
            {{textarea class="value student-text" valueBinding="controller.proposed_topic_1"}}
        </div>

        <button {{action 'submitProposedTopics' model}}>Submit Proposed Topics</button>
    {{else}}
        <div class="key">Topics Under Review</div>

        <hr>

        <div class="details-field">
            <div class="key">Topic 1:</div>
            {{textarea class="value student-text" valueBinding="controller.proposed_topic_0" disabled=true}}
            {{! view App.ProposedTopicOne valueBinding="proposed_topic_0"}}
        </div>
        <div class="details-field">
            <div class="key">Topic 2:</div>
            {{textarea class="value student-text" valueBinding="controller.proposed_topic_1" disabled=true}}
        </div>
    {{/if}}
{{/if}}
