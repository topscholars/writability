<div class="details-field">
    <div class="key">Prompt:</div>
    <div class="value app-text">{{essay_prompt}}</div>
</div>
<div class="details-field">
    <div class="key">Audience:</div>
    <div class="value app-text">{{audience}}</div>
</div>
<div class="details-field">
    <div class="key">Context:</div>
    <div class="value app-text">{{context}}</div>
</div>

{{#if is_in_progress}}
    <div class="details-field">
        <div class="key">Topic:</div>
        <div class="value student-text">{{topic}}</div>
    </div>
{{else}}
    <div class="details-field">
        <div class="key">Topic 1:</div>
        {{textarea class="value student-text" valueBinding="controller.proposed_topic_0"}}
    </div>

    {{#if topicsReadyForApproval}}
        <button {{action 'approveProposedTopic' model 'proposed_topic_0'}}>Approve Topic 1</button>
    {{/if}}

    <div class="details-field">
        <div class="key">Topic 2:</div>
        {{textarea class="value student-text" valueBinding="controller.proposed_topic_1"}}
    </div>

    {{#if topicsReadyForApproval}}
        <button {{action 'approveProposedTopic' model 'proposed_topic_1'}}>Approve Topic 2</button>
    {{else}}
        <button {{action 'update' model}}>Save Topics</button>
    {{/if}}
{{/if}}
<button {{action 'mergeEssay' model}}>Merge Essay</button>
